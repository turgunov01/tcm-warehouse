import{N as k,O as x,e as h,B as L,y as b,R as g,V as U,S as q,T as D,v as C,w as u,o as d,b as v,d as y,t as p,l as f,a as m,c as _,x as w,F as z,m as N}from"./C3nFx1By.js";import{u as O,a as T,_ as S}from"./Bg2tV3qA.js";import{b as V}from"./CeTMl5KV.js";import{_ as B}from"./WaFNkPel.js";import{_ as j}from"./LHM2B4W_.js";import{u as G}from"./BOtwTEl-.js";const A={wrapper:{horizontal:"inline-flex -space-x-px",vertical:"inline-flex flex-col -space-y-px"},rounded:"rounded-md",shadow:"shadow-sm",orientation:{"rounded-none":{horizontal:{start:"rounded-s-none",end:"rounded-e-none"},vertical:{start:"rounded-t-none",end:"rounded-b-none"}},"rounded-sm":{horizontal:{start:"rounded-s-sm",end:"rounded-e-sm"},vertical:{start:"rounded-t-sm",end:"rounded-b-sm"}},rounded:{horizontal:{start:"rounded-s",end:"rounded-e"},vertical:{start:"rounded-t",end:"rounded-b"}},"rounded-md":{horizontal:{start:"rounded-s-md",end:"rounded-e-md"},vertical:{start:"rounded-t-md",end:"rounded-b-md"}},"rounded-lg":{horizontal:{start:"rounded-s-lg",end:"rounded-e-lg"},vertical:{start:"rounded-t-lg",end:"rounded-b-lg"}},"rounded-xl":{horizontal:{start:"rounded-s-xl",end:"rounded-e-xl"},vertical:{start:"rounded-t-xl",end:"rounded-b-xl"}},"rounded-2xl":{horizontal:{start:"rounded-s-2xl",end:"rounded-e-2xl"},vertical:{start:"rounded-t-2xl",end:"rounded-b-2xl"}},"rounded-3xl":{horizontal:{start:"rounded-s-3xl",end:"rounded-e-3xl"},vertical:{start:"rounded-t-3xl",end:"rounded-b-3xl"}},"rounded-full":{horizontal:{start:"rounded-s-full",end:"rounded-e-full"},vertical:{start:"rounded-t-full",end:"rounded-b-full"}}}},I=k(x.ui.strategy,x.ui.button,V),R=k(x.ui.strategy,x.ui.buttonGroup,A),Y=h({name:"ButtonGroup",inheritAttrs:!1,props:{size:{type:String,default:null,validator(e){return Object.keys(I.size).includes(e)}},orientation:{type:String,default:"horizontal",validator(e){return["horizontal","vertical"].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:i}){const{ui:n,attrs:s}=O("buttonGroup",g(e,"ui"),R),a=b(()=>U(i)),o=b(()=>q(D(n.value.wrapper[e.orientation],n.value.rounded,n.value.shadow),e.class)),r=b(()=>n.value.orientation[n.value.rounded][e.orientation]);return T({orientation:g(e,"orientation"),size:g(e,"size"),ui:n,rounded:r}),()=>L("div",{class:o.value,...s.value},a.value)}}),Z=h({__name:"BookingTable",props:{rows:{}},setup(e){const i=e,{bookingStatusLabel:n}=G(),s=[{key:"id",label:"ID"},{key:"requested_datetime",label:"Запрошено"},{key:"status",label:"Статус"},{key:"driver_name",label:"Водитель"},{key:"car_plate_text",label:"Номер"},{key:"tenant",label:"Арендатор"}];return(a,o)=>{const r=B,l=j,c=S;return d(),C(c,null,{default:u(()=>[v(l,{rows:i.rows,columns:s},{"status-data":u(({row:t})=>[v(r,{label:f(n)(t.status),color:"gray",variant:"subtle"},null,8,["label"])]),"requested_datetime-data":u(({row:t})=>[y(p(new Date(t.requested_datetime).toLocaleString()),1)]),"tenant-data":u(({row:t})=>[y(p(t.profiles?.full_name||t.tenant_id),1)]),_:1},8,["rows"])]),_:1})}}}),F={class:"space-y-4"},M={class:"mb-2 font-medium"},E={class:"space-y-2"},J={class:"text-sm"},P={key:0,class:"text-sm text-slate-500"},ee=h({__name:"BookingCalendar",props:{rows:{}},setup(e){const i=e,{bookingStatusLabel:n}=G(),s=b(()=>{const a=new Map;for(const o of i.rows){const r=new Date(o.requested_datetime).toISOString().slice(0,10),l=a.get(r)||[];l.push(o),a.set(r,l)}return Array.from(a.entries()).sort((o,r)=>o[0].localeCompare(r[0]))});return(a,o)=>{const r=B,l=S;return d(),C(l,null,{header:u(()=>[...o[0]||(o[0]=[m("p",{class:"font-semibold"},"Календарь",-1)])]),default:u(()=>[m("div",F,[(d(!0),_(z,null,w(f(s),c=>(d(),_("div",{key:c[0],class:"rounded border border-[#eeeeee] p-3"},[m("p",M,p(c[0]),1),m("div",E,[(d(!0),_(z,null,w(c[1],t=>(d(),_("div",{key:t.id,class:"flex items-center justify-between rounded-md border border-[#eeeeee] bg-transparent p-2"},[m("span",J,p(new Date(t.requested_datetime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))+" - "+p(t.driver_name),1),v(r,{label:f(n)(t.status),color:"gray",variant:"subtle"},null,8,["label"])]))),128))])]))),128)),f(s).length?N("",!0):(d(),_("p",P,"Записей в календаре нет."))])]),_:1})}}});export{Z as _,ee as a,Y as b};
