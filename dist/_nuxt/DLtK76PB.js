import{ae as x,X as y,y as h,q as C,C as G,r as T,D as B,af as D,s as N,M as W,Y as I}from"./C3nFx1By.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $=e=>typeof e<"u",S=()=>{};function j(e,n){function i(...u){return new Promise((t,l)=>{Promise.resolve(e(()=>n.apply(this,u),{fn:n,thisArg:this,args:u})).then(t).catch(l)})}return i}function A(e,n={}){let i,u,t=S;const l=r=>{clearTimeout(r),t(),t=S};let f;return r=>{const s=x(e),a=x(n.maxWait);return i&&l(i),s<=0||a!==void 0&&a<=0?(u&&(l(u),u=void 0),Promise.resolve(r())):new Promise((c,d)=>{t=n.rejectOnCancel?d:c,f=r,a&&!u&&(u=setTimeout(()=>{i&&l(i),u=void 0,c(f())},a)),i=setTimeout(()=>{u&&l(u),u=void 0,c(r())},s)})}}function J(e,n=200,i={}){return j(A(n,i),e)}function q(e,n,i){var u;let t;N(i)?t={evaluating:i}:t=i||{};const{lazy:l=!1,flush:f="pre",evaluating:o=void 0,shallow:r=!0,onError:s=(u=globalThis.reportError)!=null?u:S}=t,a=G(!l),c=r?G(n):T(n);let d=0;return y(async v=>{if(!a.value)return;d++;const b=d;let p=!1;o&&Promise.resolve().then(()=>{o.value=!0});try{const g=await e(_=>{v(()=>{o&&(o.value=!1),p||_()})});b===d&&(c.value=g)}catch(g){s(g)}finally{o&&b===d&&(o.value=!1),p=!0}},{flush:f}),l?h(()=>(a.value=!0,c.value)):c}function R(e){var n;const i=x(e);return(n=i?.$el)!=null?n:i}function M(e){return JSON.parse(JSON.stringify(e))}const F=new Map;function U(e){const n=D();function i(o){var r;const s=F.get(e)||new Set;s.add(o),F.set(e,s);const a=()=>t(o);return(r=n?.cleanups)==null||r.push(a),a}function u(o){function r(...s){t(r),o(...s)}return i(r)}function t(o){const r=F.get(e);r&&(r.delete(o),r.size||l())}function l(){F.delete(e)}function f(o,r){var s;(s=F.get(e))==null||s.forEach(a=>a(o,r))}return{on:i,once:u,off:t,emit:f,reset:l}}function X(e,n,i,u={}){var t,l,f;const{clone:o=!1,passive:r=!1,eventName:s,deep:a=!1,defaultValue:c,shouldEmit:d}=u,v=B(),b=i||v?.emit||((t=v?.$emit)==null?void 0:t.bind(v))||((f=(l=v?.proxy)==null?void 0:l.$emit)==null?void 0:f.bind(v?.proxy));let p=s;n||(n="modelValue"),p=p||`update:${n.toString()}`;const g=m=>o?typeof o=="function"?o(m):M(m):m,_=()=>$(e[n])?g(e[n]):c,V=m=>{d?d(m)&&b(p,m):b(p,m)};if(r){const m=_(),E=T(m);let w=!1;return C(()=>e[n],z=>{w||(w=!0,E.value=g(z),W(()=>w=!1))}),C(E,z=>{!w&&(z!==e[n]||a)&&V(z)},{deep:a}),E}else return h({get(){return _()},set(m){V(m)}})}const Y=(e,n,i=!0)=>{const u=I("form-events",void 0),t=I("form-group",void 0),l=I("form-inputs",void 0);t&&(!i||e?.legend?t.inputId.value=void 0:e?.id&&(t.inputId.value=e?.id),l&&(l.value[t.name.value]=t.inputId.value));const f=T(!1);function o(c,d){u&&u.emit({type:c,path:d})}function r(){o("blur",t?.name.value),f.value=!0}function s(){o("change",t?.name.value)}const a=J(()=>{(f.value||t?.eagerValidation.value)&&o("input",t?.name.value)},300);return{inputId:h(()=>e?.id??t?.inputId.value),name:h(()=>e?.name??t?.name.value),size:h(()=>{const c=n.size[t?.size.value]?t?.size.value:null;return e?.size??c??n.default?.size}),color:h(()=>t?.error?.value?"red":e?.color),emitFormBlur:r,emitFormInput:a,emitFormChange:s}};export{R as a,J as b,q as c,X as d,U as e,Y as u};
