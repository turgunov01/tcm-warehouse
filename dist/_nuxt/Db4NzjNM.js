import{_ as x}from"./CeTMl5KV.js";import{_ as h}from"./Bg2tV3qA.js";import{u as v}from"./YQB72Io7.js";import{e as y,j as k,c as n,a as t,F as b,x as g,l as _,m as C,r as B,o as a,v as N,w as R,t as i,b as V}from"./C3nFx1By.js";import"./zCT-49bZ.js";import"./BNwErHV-.js";const j={class:"space-y-4"},w={class:"space-y-3"},D={class:"flex items-start justify-between gap-4"},F={class:"space-y-1"},L={class:"font-semibold"},S={class:"text-sm text-slate-700"},U={class:"text-xs text-slate-500"},z={key:0,class:"text-sm text-slate-500"},I=y({__name:"notifications",setup(E){const{fetchNotifications:d,markNotificationRead:m}=v(),o=B([]),c=async()=>{o.value=await d()},l=s=>s.notification_reads?.length>0,p=async s=>{await m(s.id),await c()};return k(c),(s,r)=>{const u=x,f=h;return a(),n("div",j,[r[0]||(r[0]=t("div",null,[t("h1",{class:"text-2xl font-semibold"},"Уведомления"),t("p",{class:"text-sm text-slate-500"},"Общие и персональные сообщения.")],-1)),t("div",w,[(a(!0),n(b,null,g(_(o),e=>(a(),N(f,{key:e.id},{default:R(()=>[t("div",D,[t("div",F,[t("p",L,i(e.title),1),t("p",S,i(e.body),1),t("p",U,i(new Date(e.created_at).toLocaleString()),1)]),V(u,{size:"xs",variant:l(e)?"ghost":"solid",label:l(e)?"Прочитано":"Отметить прочитанным",onClick:M=>p(e)},null,8,["variant","label","onClick"])])]),_:2},1024))),128)),_(o).length?C("",!0):(a(),n("p",z,"Пока нет уведомлений."))])])}}});export{I as default};
